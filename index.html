<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js_</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<link rel="stylesheet" href="css/docker-presentation.css">
		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<p>Docker</p>
					<p><i>Une brève introduction</i></p>
				</section>
				<section>
					<section>Docker... C'est bien un truc pour faire des machines virtuelles?</section>
					<section data-background="http://i.giphy.com/l44QoAtMOGDhYjjVu.gif">
					</section>
					
					<section data-markdown>
						<textarea data-template>
							<img src="./images/docker_vs_vm.png" class="element-align"/>
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							<img src="./images/vm.png" class="element-align"/>
							Lancer une machine virtuel, c'est *lancer une machine dans une machine*
							
							
							Ci-dessous une métaphore
						</textarea>
					</section>
					<section data-background="http://i.giphy.com/b7lp44pNiRqsU.gif">
					</section>
					<section data-markdown>
						<textarea data-template>
							<img src="./images/docker.png" class="element-align"/>
							Lancer un conteneur docker, c'est isoler son exécution du reste du système
							
							
							Ci-dessous une métaphore
						</textarea>
					</section>
					<section data-background="http://i.giphy.com/3oz8xyYJVYlztGuHoQ.gif">
					</section>
					<section>
						<img src="./images/Virtual_Machine_vs_Docker_partage-ressource.png"/>
					</section>
				</section>
				<section>
					<section data-background="http://i.giphy.com/KPn24x701Asus.gif">Et maintenant, un petit peu de pratique</section>
					<section>
							<img src="http://i.giphy.com/fedryX7dMGMe6lgqDm.gif" width="200px" class="element-align" />		
							Installation de docker depuis une machine vide
						<aside class="notes">
							<ul>
								<li>https://docs.docker.com/install/linux/docker-ce/debian/#upgrade-docker-ce-1</li>
								<li>docker run hello-world</li>
								<li>docker container list (-a)</li>
								<li>docker image list (parler des tags)</li>
							</ul>
						</aside>
					</section>
					<section>
						Hello nginx
						<aside class="notes">
							<ul>
								<li>docker hub, chercher nginx</li>
								<li>docker run nginx</li>
								<li>essayer de s'y connecter sans succès</li>
								<li>l'arreter, le supprimer</li> 
								<li>en faire un nouveau avec accès sur le port 80</li>
								<li>en faire un nouveau avec accès sur le port 700</li>
								<li>en faire un nouveau avec accès sur le port 400</li>
								<li>https://gist.github.com/ebababi/4168787/archive/1219b64c438282347efb810f98b4738657fbc673.zip</li>
							</ul>
						</aside>
					</section>
				</section>
				<section>
					<section data-background="http://i.giphy.com/l2Je66zG6mAAZxgqI.gif">Un peu de terminologie</section>
					<section data-markdown style="font-size: 0.8em !important;">
						<textarea data-template>
							<img src="images/logo docker.png" class="element-align" />	
							Malcolm McLean et Keith Tantlinger ont standardisé la taille des conteneurs. 
							Peu importe ce qui se trouve dans un conteneur maintenant, ce conteneur pourra être mis sur un bateau, avion ou camion de la même manière

							Docker veut fait la même chose en informatique, une application reste:
							 * quelque chose qui s’exécute
							 * a des dépendances spécifiques pour fonctionner (fichiers, librairies, etc.)
						</textarea>
					</section>
					<section>
						<img src="images/hubs.png" class="element-align" />		
						<aside class="notes">
							On peut facilement faire le parallèle avec git
						</aside>
					</section>
					<section>
						<img src="images/images et conteneurs.png" class="element-align" />		
						<aside class="notes">
							si on veut faire le parallèle avec le développement, un conteneur est l'instanciation d'une image
						</aside>
					</section>
					<section>
						<img src="images/docker pull et push.png" class="element-align" />		
						<aside class="notes">
							si on veut faire le parallèle avec le développement, un conteneur est l'instanciation d'une image
						</aside>
					</section>
					<section>
						<img src="images/ugly slide port et volumes.png" class="element-align" />		
						<aside class="notes">
							<ul>
								<li>Port exposé</li>
								<li>Communication interconteneur</li>
								<li>Volumes</li>
							</ul>
						</aside>
					</section>
					<section>
						<img src="images/Dockerfile to image.png" class="element-align" />		
						<aside class="notes">
							<ul>
								<li>Dockerfile: recette de construction d'une image</li>
							</ul>
						</aside>
					</section>
				</section>
				<section>
					<section data-background="http://i.giphy.com/cS1fraQeOjxny.gif">
						Dockerfile
						<br>
						<br>
						<br>
						<i>P.S : Illustration sans aucun rapport</i>
					</section>
					<section data-markdown>
						<textarea data-template>
							<img src="images/Dockerfile.png" class="element-align" />	
							C'est la recette de construction d'une image docker.
							* On part d'une image existante
							* On y exécute des commandes qu'on aurait du taper dans un conteneur pour arriver à l'état désiré
							* on peut y ajouter également des informations "contextuelles"
						</textarea>
					</section>
					<section data-background="http://i.giphy.com/oopluFFzEczJe.gif">
						Allez hop hop hop un peu de pratique (nginx)
						<aside class="notes">
							<ul>
								<li>Montrer le dockerfile de nginx sur dockerhub</li>
								<li>faire sa propre image en y ajoutant html pong</li>
								<li>parler de l'héritage des images</li>
							</ul>
						</aside>
					</section>
					<section data-background="http://i.giphy.com/oopluFFzEczJe.gif">
						Allez hop hop hop un peu de pratique (tetris)
						<aside class="notes">
							<ul>
								<li>Montrer le dockerfile de nginx sur dockerhub</li>
								<li>faire sa propre image</li>
								<li>apt-get update && apt-get install -y wget gcc make</li>
								<li><ul>
									<li>mkdir /build && cd /build && wget http://www.victornils.net/tetris/vitetris-0.57.tar.gz</li>
									<li>tar xvzf *.tar.gz</li>
									<li>cd vitetris-0.57</li>
									<li>./configure && make install </li>
									<li>rm -rf /build</li>
									<li>apt-get remove -y gcc make wget</li>
								</ul></li>
							</ul>
						</aside>
					</section>
				</section>
				<section>
					<section>
						docker-compose
						<br>
						<br>
						<i>parce que personne n'aime se répéter</i>
					</section>
					<section>
						Ecriture d'un fichier YAML décrivant le(s) conteneurs <i>(ou services en mode swarm)</i> que l'on veut exécuter
					</section>
					<section data-background="http://i.giphy.com/YQitE4YNQNahy.gif">
							Nginx
					</section>
					<section data-background="http://i.giphy.com/YQitE4YNQNahy.gif">
						Wordpress
					</section>
				</section>
				<section>
					<section data-background="http://i.giphy.com/3o8dFn5CXJlCV9ZEsg.gif">
						Maintenant, le reste 
						<br><br>
						<i>qu'on aura pas le temps de creuser en 1 heure de midi</i>
					</section>

					<section data-markdown>
							<textarea data-template>
								Docker swarm
								<img src="./images/docker-swarm.png" class="element-align"/>
							</textarea>
					</section>

					<section data-markdown>
							<textarea data-template>
								Kubernetes
								<img src="./images/kubernetes-pods.png" class="element-align"/>
							</textarea>
					</section>

					
					<section data-markdown>
							<textarea data-template>
								Les données manipulés ne sont pas aussi volatiles que les containers...
								<img src="./images/docker volumes.png" class="element-align"/>
							</textarea>
					</section>
				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
